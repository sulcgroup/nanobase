!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-responsive-carousel",["exports","@angular/core","@angular/common"],e):e((t=t||self)["angular-responsive-carousel"]={},t.ng.core,t.ng.common)}(this,(function(t,e,i){"use strict";var n=function(){function t(t){var e=this;this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this._touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this._mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this._otherListeners={resize:"handleResize"},this.handleTouchstart=function(t){e.elementPosition=e.getElementPosition(),e.touchstartTime=(new Date).getTime(),void 0===e.eventType&&e.getTouchstartPosition(t),e.runHandler("touchstart",t)},this.handleTouchmove=function(t){var i=t.touches;switch(e.detectPan(i)&&e.runHandler("pan",t),e.detectPinch(t)&&e.runHandler("pinch",t),e.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",e.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",e.runHandler("vertical-swipe",t)}(e.detectLinearSwipe(t)||"horizontal-swipe"===e.eventType||"vertical-swipe"===e.eventType)&&e.handleLinearSwipe(t)},this.handleTouchend=function(t){var i=t.touches;e.detectDoubleTap()&&e.runHandler("double-tap",t),e.detectTap(),e.runHandler("touchend",t),e.eventType="touchend",i&&0===i.length&&(e.eventType=void 0,e.i=0)},this.handleMousedown=function(t){e.isMousedown=!0,e.elementPosition=e.getElementPosition(),e.touchstartTime=(new Date).getTime(),void 0===e.eventType&&e.getMousedownPosition(t),e.runHandler("mousedown",t)},this.handleMousemove=function(t){if(e.isMousedown){switch(e.runHandler("pan",t),e.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",e.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",e.runHandler("vertical-swipe",t)}(e.detectLinearSwipe(t)||"horizontal-swipe"===e.eventType||"vertical-swipe"===e.eventType)&&e.handleLinearSwipe(t)}},this.handleMouseup=function(t){e.detectTap(),e.isMousedown=!1,e.runHandler("mouseup",t),e.eventType=void 0,e.i=0},this.handleWheel=function(t){e.runHandler("wheel",t)},this.handleResize=function(t){e.runHandler("resize",t)},this.properties=t,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}return Object.defineProperty(t.prototype,"touchListeners",{get:function(){return this.properties.touchListeners?this.properties.touchListeners:this._touchListeners},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseListeners",{get:function(){return this.properties.mouseListeners?this.properties.mouseListeners:this._mouseListeners},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherListeners",{get:function(){return this.properties.otherListeners?this.properties.otherListeners:this._otherListeners},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.toggleEventListeners("removeEventListener")},t.prototype.toggleEventListeners=function(t){var e;for(var i in e="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(e=Object.assign(e,this.otherListeners)),e){var n=e[i];"resize"===i?("addEventListener"===t&&window.addEventListener(i,this[n],!1),"removeEventListener"===t&&window.removeEventListener(i,this[n],!1)):"mouseup"===i||"mousemove"===i?("addEventListener"===t&&document.addEventListener(i,this[n],!1),"removeEventListener"===t&&document.removeEventListener(i,this[n],!1)):("addEventListener"===t&&this.element.addEventListener(i,this[n],!1),"removeEventListener"===t&&this.element.removeEventListener(i,this[n],!1))}},t.prototype.addEventListeners=function(t,e){window.addEventListener(t,this[e],!1)},t.prototype.removeEventListeners=function(t,e){window.removeEventListener(t,this[e],!1)},t.prototype.handleLinearSwipe=function(t){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(t)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",t),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",t)},t.prototype.runHandler=function(t,e){this.handlers[t]&&this.handlers[t](e)},t.prototype.detectPan=function(t){return 1===t.length&&!this.eventType||"pan"===this.eventType},t.prototype.detectDoubleTap=function(){var t=this;if(null==this.eventType){var e=(new Date).getTime(),i=e-this.lastTap;if(clearTimeout(this.doubleTapTimeout),i<this.doubleTapMinTimeout&&i>0)return!0;this.doubleTapTimeout=setTimeout((function(){clearTimeout(t.doubleTapTimeout)}),this.doubleTapMinTimeout),this.lastTap=e}},t.prototype.detectTap=function(){if(null==this.eventType){var t=(new Date).getTime()-this.touchstartTime;t>0&&(t<this.tapMinTimeout?this.runHandler("tap",event):this.runHandler("longtap",event))}},t.prototype.detectPinch=function(t){return 2===t.touches.length&&void 0===this.eventType||"pinch"===this.eventType},t.prototype.detectLinearSwipe=function(t){var e=t.touches;if(e){if(1===e.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)},t.prototype.getLinearSwipeType=function(t){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){var e=Math.abs(this.moveLeft(0,t)-this.startX);return 3*Math.abs(this.moveTop(0,t)-this.startY)>e?"vertical-swipe":"horizontal-swipe"}return this.eventType},t.prototype.getElementPosition=function(){return this.element.getBoundingClientRect()},t.prototype.getTouchstartPosition=function(t){this.startX=t.touches[0].clientX-this.elementPosition.left,this.startY=t.touches[0].clientY-this.elementPosition.top},t.prototype.getMousedownPosition=function(t){this.startX=t.clientX-this.elementPosition.left,this.startY=t.clientY-this.elementPosition.top},t.prototype.moveLeft=function(t,e){var i=e.touches;return i?i[t].clientX-this.elementPosition.left:e.clientX-this.elementPosition.left},t.prototype.moveTop=function(t,e){var i=e.touches;return i?i[t].clientY-this.elementPosition.top:e.clientY-this.elementPosition.top},t.prototype.detectTouchScreen=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))},t.prototype.on=function(t,e){t&&(this.handlers[t]=e)},t}(),o=function(){function t(t,e,i,n,o){var s=this;this.properties=t,this.utils=e,this.cells=i,this.container=n,this.slide=o,this.isContentImages=!0,this.isLazyLoad=!0,this.isContainerLocked=!0,this.alignCells="left",this.initialContainerPosition=0,this.containerPullLimit=100,this.handleTouchstart=function(t){s.container.handleTouchstart(),s.slide.handleTouchstart(t)},this.handleHorizontalSwipe=function(t){s.container.handleHorizontalSwipe()},this.handleTouchend=function(t){s.properties.freeScroll?s.container.handleTouchend():(s.container.handleTouchend(!0),s.slide.handleTouchend(t))},this.isNextArrowDisabled=function(){return s.slide.isNextArrowDisabled()},this.isPrevArrowDisabled=function(){return s.slide.isPrevArrowDisabled()},this.init()}return Object.defineProperty(t.prototype,"cellLength",{get:function(){return this.cells.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLengthInLightDOMMode",{get:function(){if(this.images){var t=this.visibleCellsCount+2*this.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCellIndex",{get:function(){return this.images.length?this.images.length-1:this.cells.cellLength-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overflowCellsLimit",{get:function(){return this.images&&this.isImagesLessCellLimit?Math.floor((this.images.length-this.visibleCellsCount)/2):this.properties.overflowCellsLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImagesLessCellLimit",{get:function(){return 2*this.properties.overflowCellsLimit+this.visibleCellsCount>this.images.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLimit",{get:function(){return this.isLightDOM?this.visibleCellsCount+2*this.overflowCellsLimit:this.properties.images.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLightDOM",{get:function(){return this.properties.lightDOM||this.properties.loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"images",{get:function(){return this.properties.images},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this.properties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSwipeDistance",{get:function(){return this.properties.minSwipeDistance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitionDuration",{get:function(){return this.properties.transitionDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitionTimingFunction",{get:function(){return this.properties.transitionTimingFunction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullCellWidth",{get:function(){return this.properties.cellWidth+this.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsCount",{get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lapCounter",{get:function(){return Math.floor(this.slide.counter/this.cellLengthInLightDOMMode)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slideCounter",{get:function(){return this.slide.counter},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.cellsElement=this.properties.cellsElement,this.visibleWidth=this.properties.visibleWidth||this.cellsElement.parentElement.clientWidth},t.prototype.lineUpCells=function(){this.cells.lineUp()},t.prototype.handleTransitionend=function(){this.slide.handleTransitionend()},t.prototype.getImage=function(t){return this.cells.getImage(t)},t.prototype.next=function(t){void 0===t&&(t=1),this.isNextArrowDisabled()||this.slide.next(t)},t.prototype.prev=function(t){void 0===t&&(t=1),this.slide.prev(t)},t.prototype.autoplay=function(){var t=this;this.autoplayId=setInterval((function(){t.next()}),this.properties.autoplayInterval)},t.prototype.stopAutoplay=function(){this.autoplayId&&clearInterval(this.autoplayId)},t}(),s=function(){function t(t,e,i){this.carouselProperties=t,this.utils=e,this.cells=i,this.newPositionIndex=0,this.initialPositionX=0,this.initialElementPositionX=0,this.isLocked=!0,this.pullLimit=100,this.init()}return Object.defineProperty(t.prototype,"visibleWidth",{get:function(){return this.utils.visibleWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overflowCellsLimit",{get:function(){return this.utils.overflowCellsLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"images",{get:function(){return this.carouselProperties.images},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.carouselProperties.cellsElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freeScroll",{get:function(){return this.carouselProperties.freeScroll},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullCellWidth",{get:function(){return this.carouselProperties.cellWidth+this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsCount",{get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitionDuration",{get:function(){return this.carouselProperties.transitionDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitionTimingFunction",{get:function(){return this.carouselProperties.transitionTimingFunction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLength",{get:function(){return this.images?this.images.length:this.cells.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLengthInLightDOMMode",{get:function(){if(this.images){var t=this.visibleCellsCount+2*this.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooFewCells",{get:function(){return this.visibleCellsCount>this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.tooFewCells},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLightDOM",{get:function(){return this.carouselProperties.lightDOM||this.carouselProperties.loop},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.setWidth()},t.prototype.handleTouchstart=function(){this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()},t.prototype.handleHorizontalSwipe=function(){this.disabled||(this.isSwipeInProgress||(this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()),this.isSwipeInProgress=!0,this.moveX=this.utils.getMoveX(event),this.move())},t.prototype.handleTouchend=function(t){void 0===t&&(t=!1),this.disabled||(t?this.isSwipeInProgress=!1:(this.isSwipeInProgress=!1,this.finishMoving(),this.clearInitialValues()))},t.prototype.move=function(){var t=this.getMovePositionX(),e=this.detectPulled(),i=this.getDirection();e&&("left"===e.edge&&"right"===i||"right"===e.edge&&"left"===i)&&(t=this.slowdownOnPull(t)),this.transformPositionX(t,0),this.freeScroll&&(this.initialPositionX=t),e&&("left"===e.edge&&e.overflowX>this.pullLimit&&(this.initialPositionX=0),"right"===e.edge&&e.overflowX>this.pullLimit&&(this.initialPositionX=t))},t.prototype.getMovePositionX=function(){var t=this.getDistance();return this.initialElementPositionX-t},t.prototype.getDistance=function(){return this.startX-this.moveX},t.prototype.detectPulled=function(){var t=this.getCurrentPositionX();return t>0?{edge:"left",positionX:t,overflowX:Math.abs(t)}:t<this.getEndPosition()?{edge:"right",positionX:t,overflowX:Math.abs(t-this.getEndPosition())}:void 0},t.prototype.slowdownOnPull=function(t){var e,i=Math.abs(this.getDistance()),n=this.getEndPosition(),o=this.detectPulled(),s=3+o.overflowX/50;"left"===o.edge&&(this.initialElementPositionX<0&&(i-=Math.abs(this.initialElementPositionX)),e=r=i/s,this.initialElementPositionX>0&&(e=this.initialElementPositionX+r),e>this.pullLimit&&(e=this.pullLimit));if("right"===o.edge){var r=n+(this.initialElementPositionX-i-n)/s,l=this.getWidth();e=r,this.initialElementPositionX<-(l-this.visibleWidth)&&(e=l-this.visibleWidth+this.initialElementPositionX+r),e<n-this.pullLimit&&(e=n-this.pullLimit)}return e},t.prototype.finishMoving=function(){var t,e=this.getMovePositionX();this.freeScroll&&(t=this.getInertia()),t=this.getAlignedPositionOnPull(t),this.transformPositionX(t),this.setInitialPosition(e)},t.prototype.getInertia=function(){var t=this.getDistance()/((new Date).getTime()-this.startTime)*100;return this.initialPositionX-t},t.prototype.getAlignedPositionOnPull=function(t){var e=this.getDirection();if("left"===e){var i=this.getEndPosition();if(t<i)return i}return"right"===e&&t>0?0:t},t.prototype.getCurrentPositionX=function(){var t=this.element.parentElement.getBoundingClientRect();return this.element.getBoundingClientRect().left-t.left},t.prototype.getEndPosition=function(){if(this.isLightDOM)return-(this.cells.imageUtils.getImages().length*this.fullCellWidth-this.visibleWidth-this.margin);var t=this.getWidth();return this.element.parentElement.clientWidth-t},t.prototype.transformPositionX=function(t,e){void 0===e&&(e=this.transitionDuration),void 0!==t&&(this.element.style.transition="transform "+e+"ms "+this.transitionTimingFunction,this.element.style.transform="translateX("+t+"px)")},t.prototype.getWidth=function(){var t=this.cellLengthInLightDOMMode*this.fullCellWidth,e=this.cellLength*this.fullCellWidth;return e<t&&(t=e),this.isLightDOM?t:e},t.prototype.setWidth=function(){var t=this.getWidth();this.element.style.width=t+"px"},t.prototype.setInitialPosition=function(t){this.initialPositionX=t},t.prototype.getElementPosition=function(){return this.element.getBoundingClientRect()},t.prototype.getInitialElementPositionX=function(){var t=this.utils.getCarouselElementPosition().left;return this.getElementPosition().left-t},t.prototype.clearInitialValues=function(){this.startX=this.moveX=void 0},t.prototype.getDirection=function(){var t=Math.sign(this.startX-this.moveX);return-1===t?"right":1===t?"left":void 0},t}(),r=function(){function t(t){this.element=t}return t.prototype.getImages=function(){return this.cellStack.filter(this.filter)},t.prototype.comparePositions=function(t,e){return t.positionX<e.positionX?-1:t.positionX>e.positionX?1:0},t.prototype.filter=function(t){return void 0!==t.img},t}(),l=function(){function t(t,e){this.carouselProperties=t,this.utils=e,this.counter=0,this.imageUtils=new r(this.element),this.init(t)}return Object.defineProperty(t.prototype,"images",{get:function(){return this.carouselProperties.images},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLength",{get:function(){return this.cells.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullCellWidth",{get:function(){return this.carouselProperties.cellWidth+this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLengthInLightDOMMode",{get:function(){if(this.images){var t=this.visibleCellsCount+2*this.utils.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsCount",{get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overflowCellsLimit",{get:function(){return this.carouselProperties.overflowCellsLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLightDOM",{get:function(){return this.carouselProperties.lightDOM||this.carouselProperties.loop},enumerable:!1,configurable:!0}),t.prototype.lineUp=function(){var t=this.element.children;this.imageUtils.cellStack=[];for(var e=0;e<t.length;e++){var i=t[e],n=this.getCellPositionInContainer(e);i.style.transform="translateX("+n+"px)",i.style.width=this.carouselProperties.cellWidth+"px",this.getImage(e)&&this.imageUtils.cellStack.push({index:e,positionX:n,img:this.getImage(e).image})}},t.prototype.ifSequenceOfCellsIsChanged=function(){return"translateX(0px)"!==this.element.children[0].style.transform},t.prototype.getCellPositionInContainer=function(t){return this.getCellIndexInContainer(t)*this.fullCellWidth},t.prototype.getCellIndexInContainer=function(t){var e;if(!this.isLightDOM)return t;var i=this.cellLengthInLightDOMMode,n=this.counter-this.carouselProperties.overflowCellsLimit;return n>i&&(n%=i),n<0?t:((e=t-n)<0&&(e=i+e),e)},t.prototype.getImage=function(t){if(this.images){var e=this.getImageIndex(t),i=this.images[e];return i&&!i.type&&(i.type="image"),{image:this.images[e],imageIndex:e}}},t.prototype.getImageIndex=function(t){var e,i=this.getCellIndexInContainer(t),n=this.carouselProperties.overflowCellsLimit;this.counter>n?(e=i+(this.counter-n),this.images&&this.carouselProperties.loop&&(e%=this.images.length)):e=t;return e},t.prototype.setCounter=function(t){this.counter=t},t.prototype.init=function(t){this.element=this.carouselProperties.cellsElement,this.cells=this.element.children,this.visibleWidth=this.carouselProperties.visibleWidth||this.element.parentElement.clientWidth},t}(),h=function(){function t(t,e,i,n){this.carouselProperties=t,this.utils=e,this.cells=i,this.container=n,this.counter=0,this._counter=0,this.initialPositionX=0,this.currentPositionX=0,this.init()}return Object.defineProperty(t.prototype,"fullCellWidth",{get:function(){return this.carouselProperties.cellWidth+this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSwipeDistance",{get:function(){return this.carouselProperties.minSwipeDistance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsCount",{get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsOverflowContainer",{get:function(){return this.visibleCellsCount*this.fullCellWidth-this.margin>this.visibleWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedContainerPosition",{get:function(){return-this.overflowCellsLimit*this.fullCellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overflowCellsLimit",{get:function(){return this.carouselProperties.overflowCellsLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"images",{get:function(){return this.carouselProperties.images},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLength",{get:function(){return this.isLightDOM?this.cells.cellLengthInLightDOMMode:this.images?this.images.length:this.cells.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLightDOM",{get:function(){return this.carouselProperties.lightDOM||this.carouselProperties.loop},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.visibleWidth=this.carouselProperties.visibleWidth||this.carouselProperties.hostElement.clientWidth},t.prototype.handleTouchstart=function(t){this.isNotClickOnArrow=!0,this.isSlideLengthLimited=void 0,this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())},t.prototype.handleTouchend=function(t){this.isNotClickOnArrow&&(this.currentPositionX=this.container.getCurrentPositionX(),this.distanceAbs=Math.abs(this.initialPositionX-this.currentPositionX),this.distance=this.initialPositionX-this.currentPositionX,this.direction=this.getDirection(),this.isNotClickOnArrow=void 0,this.handleSlide())},t.prototype.handleTransitionend=function(){this.setCounter(),this.isSlideInProgress=!1,this.isLightDOM&&this.alignContainerFast()},t.prototype.detectClickOnArrow=function(t){return t.target.classList.contains("carousel-arrow")},t.prototype.handleSlide=function(t){var e;if(void 0===t&&(t=void 0),!(t&&this.isSlideInProgress||!this.direction)){if(t?(this.slideLength=this.limitSlideLength(t),this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())):this.slideLength=this.getSlideLength(this.distanceAbs),this._counter=this.getPreliminaryCounter(),"left"===this.direction){t||(this.slideLength=this.limitSlideLength(this.getSlideLength(this.distanceAbs))),this._counter=this.getPreliminaryCounter();var i=this.isSlidesEnd(this._counter);e=this.getPositionByIndex(this._counter),i&&(this._counter=this.counter,e=this.getPositionByIndex(this.counter),this.slideLength=0)}"right"===this.direction&&(t||(this.slideLength=this.getSlideLength(this.distanceAbs)),this._counter<0&&(this._counter=this.counter,this.slideLength=this.counter),e=this.getPositionByIndex(this.counter-this.slideLength)),this.container.getCurrentPositionX()!==e&&(this.isSlideInProgress=!0,this.container.transformPositionX(e))}},t.prototype.next=function(t){void 0===t&&(t=1),this.direction="left",this.handleSlide(t)},t.prototype.prev=function(t){void 0===t&&(t=1),this.direction="right",this.handleSlide(t)},t.prototype.select=function(t){if(!(t>this.cellLength-1)){if(t>this.counter){var e=t-this.counter;this.next(e)}if(t<this.counter){e=this.counter-t;this.prev(e)}}},t.prototype.getPreliminaryCounter=function(){return"left"===this.direction?this.counter+this.slideLength:"right"===this.direction?this.counter-this.slideLength:void 0},t.prototype.limitSlideLength=function(t){if(t>1)for(var e=0;e<t;e++){var i=this.counter+(t-e);if(!this.isSlidesEnd(i)){t-=e,this.isSlideLengthLimited=e>0;break}}return t},t.prototype.getPositionCorrection=function(t){var e=0,i=this.isLastSlide(t);if(this.carouselProperties.loop||"right"===this.direction)return 0;if(this.isSlideLengthLimited||i){var n=this.cells.cellLengthInLightDOMMode*this.fullCellWidth;this.visibleWidth<n&&(e=-(this.visibleCellsCount*this.fullCellWidth-this.visibleWidth-this.margin)),e>=-this.margin&&(e=0)}return e},t.prototype.getSlideLength=function(t){this.isLastSlide(this.counter)&&"right"===this.direction&&(t+=this.visibleWidth%this.fullCellWidth);var e=Math.floor(t/this.fullCellWidth);return t%this.fullCellWidth>=this.minSwipeDistance&&e++,e},t.prototype.getDistanceAbs=function(){return Math.abs(this.initialPositionX-this.currentPositionX)},t.prototype.getDirection=function(){var t=Math.sign(this.initialPositionX-this.currentPositionX);return-1===t?"right":1===t?"left":void 0},t.prototype.isSlidesEnd=function(t){var e=this.visibleCellsOverflowContainer?1:0,i=this.images?this.images.length:this.cells.cellLength;return!this.carouselProperties.loop&&i-t+e<this.visibleCellsCount},t.prototype.isLastSlide=function(t){return this.isSlidesEnd(t+1)},t.prototype.setCounter=function(){"left"===this.direction&&(this.counter=this.counter+this.slideLength),"right"===this.direction&&(this.counter=this.counter-this.slideLength)},t.prototype.getPositionByIndex=function(t){var e,i=this.getPositionCorrection(this.counter+this.slideLength);(0!==i&&(i+=this.fullCellWidth),"right"===this.direction&&(i=0),this.isLightDOM&&this.isLightDOMMode(t)||this.isLightDOM&&this.ifLeftDOMModeAtEnd(t))?e=this.getPositionWithoutCorrection(this.initialPositionX)-((t-this.counter)*this.fullCellWidth-i):e=-(t*this.fullCellWidth-i);return e=this.provideSafePosition(e)},t.prototype.provideSafePosition=function(t){var e=this.container.getEndPosition();return"left"===this.direction&&t>0&&(t=0),"right"===this.direction&&t<e&&(t=e),t},t.prototype.getPositionWithoutCorrection=function(t){var e=t%this.fullCellWidth;return 0!==e?t-(this.fullCellWidth+e):t},t.prototype.isNextArrowDisabled=function(){return this.isLastSlide(this.counter)},t.prototype.isPrevArrowDisabled=function(){return 0===this.counter},t.prototype.alignContainerFast=function(){if(this.isLightDOMMode(this.counter)){var t=this.fixedContainerPosition;this.container.transformPositionX(t,0),this.cells.setCounter(this.counter),this.cells.lineUp()}else if(this.ifLeftDOMModeToBeginning(this.counter)){if(this.cells.ifSequenceOfCellsIsChanged()){t=-this.counter*this.fullCellWidth;this.container.transformPositionX(t,0),this.cells.setCounter(this.counter),this.cells.lineUp()}}else if(this.ifLeftDOMModeAtEnd(this.counter)){var e=this.container.getCurrentPositionX(),i=this.container.getWidth();if(this.visibleWidth,this.isLastSlide(this.counter)&&i+e>=this.visibleWidth)return;var n=this.getPositionCorrection(this.counter);0!==n&&(n+=this.fullCellWidth),"right"===this.direction&&(n=0);t=this.fixedContainerPosition+n;this.container.transformPositionX(t,0),this.cells.setCounter(this.counter),this.cells.lineUp()}},t.prototype.isLightDOMMode=function(t){var e,i=this.images.length-this.overflowCellsLimit-this.visibleCellsCount;return!!this.isLightDOM&&(t>this.overflowCellsLimit&&"left"===this.direction&&t<=i&&(e=!0),t>=this.overflowCellsLimit&&"right"===this.direction&&t<i&&(e=!0),this.counter>this.overflowCellsLimit&&"left"===this.direction&&this.counter<=i&&(e=!0),this.counter>=this.overflowCellsLimit&&"right"===this.direction&&this.counter<i&&(e=!0),e)},t.prototype.ifLeftDOMModeAtEnd=function(t){var e,i=this.images.length-this.overflowCellsLimit-this.visibleCellsCount;return t>=i&&(e=!0),this.counter>=i&&(e=!0),e},t.prototype.ifLeftDOMModeToBeginning=function(t){var e;return t<=this.overflowCellsLimit&&(e=!0),this.counter<=this.overflowCellsLimit&&(e=!0),e},t}(),a=function(){function t(t){this.carouselProperties=t}return Object.defineProperty(t.prototype,"images",{get:function(){return this.carouselProperties.images},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overflowCellsLimit",{get:function(){return this.images&&this.isImagesLessCellLimit?Math.floor((this.images.length-this.visibleCellsCount)/2):this.carouselProperties.overflowCellsLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImagesLessCellLimit",{get:function(){return 2*this.carouselProperties.overflowCellsLimit+this.visibleCellsCount>this.images.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCellsCount",{get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullCellWidth",{get:function(){return this.carouselProperties.cellWidth+this.carouselProperties.margin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleWidth",{get:function(){return this.carouselProperties.visibleWidth||this.carouselProperties.cellsElement.parentElement.clientWidth},enumerable:!1,configurable:!0}),t.prototype.getStartX=function(t){var e=t.touches,i=this.getCarouselElementPosition().left;return e?e[0].clientX-i:t.clientX-i},t.prototype.getMoveX=function(t){var e=t.touches,i=this.getCarouselElementPosition().left;return e?e[0].clientX-i:t.clientX-i},t.prototype.getCarouselElementPosition=function(){return this.carouselProperties.hostElement.getBoundingClientRect()},t}(),u=function(){function t(t,i){var n=this;this.elementRef=t,this.ref=i,this.minTimeout=30,this._cellWidth=200,this._loop=!1,this._lightDOM=!1,this.events=new e.EventEmitter,this.height=200,this.autoplay=!1,this.autoplayInterval=5e3,this.pauseOnHover=!0,this.dots=!1,this.margin=10,this.objectFit="cover",this.minSwipeDistance=10,this.transitionDuration=200,this.transitionTimingFunction="ease-out",this.counterSeparator=" / ",this.overflowCellsLimit=3,this.listeners="mouse and touch",this.cellsToScroll=1,this.freeScroll=!1,this.arrows=!0,this.arrowsTheme="light",this.hostClassCarousel=!0,this.handleTouchstart=function(t){n.touches.addEventListeners("mousemove","handleMousemove"),n.carousel.handleTouchstart(t),n.isMoving=!0},this.handleHorizontalSwipe=function(t){t.preventDefault(),n.carousel.handleHorizontalSwipe(t)},this.handleTouchend=function(t){t.touches;n.carousel.handleTouchend(t),n.touches.removeEventListeners("mousemove","handleMousemove"),n.isMoving=!1},this.handleTap=function(t){var e=Array.prototype.slice.call(n.cellsElement.children),i=t.srcElement.closest(".carousel-cell");e.indexOf(i),e.indexOf(i);n.images}}return Object.defineProperty(t.prototype,"isContainerLocked",{get:function(){return this.carousel.isContainerLocked},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slideCounter",{get:function(){return this.carousel.slideCounter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lapCounter",{get:function(){return this.carousel.lapCounter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLandscape",{get:function(){return window.innerWidth>window.innerHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSafari",{get:function(){var t=navigator.userAgent.toLowerCase();if(-1!==t.indexOf("safari"))return!(t.indexOf("chrome")>-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"counter",{get:function(){return(this.loop?this.slideCounter%this.cellLength:this.slideCounter)+1+this.counterSeparator+this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellsElement",{get:function(){return this.elementRef.nativeElement.querySelector(".carousel-cells")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isArrows",{get:function(){return this.arrows&&!this.freeScroll},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCounter",{get:function(){return this._isCounter&&this.cellLength>1},set:function(t){t&&(this._isCounter=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeDotIndex",{get:function(){return this.slideCounter%this.cellLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLimit",{get:function(){if(this.carousel)return this.carousel.cellLimit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"images",{get:function(){return this._images},set:function(t){this._images=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellWidth",{set:function(t){t&&(this._cellWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return!!this.images&&this._loop},set:function(t){t&&(this._loop=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightDOM",{get:function(){return!!this.images&&this._lightDOM},set:function(t){t&&(this._lightDOM=t)},enumerable:!1,configurable:!0}),t.prototype.onWindowResize=function(t){this.landscapeMode=this.isLandscape,this.ref.detectChanges(),this.initCarousel(),this.carousel.lineUpCells()},t.prototype.onMousemove=function(t){this.autoplay&&this.pauseOnHover&&this.carousel.stopAutoplay()},t.prototype.onMouseleave=function(t){this.autoplay&&this.pauseOnHover&&this.carousel.autoplay()},t.prototype.ngOnInit=function(){this.isNgContent=this.cellsElement.children.length>0,this.touches=new n({element:this.cellsElement,listeners:this.listeners,mouseListeners:{mousedown:"handleMousedown",mouseup:"handleMouseup"}}),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("horizontal-swipe",this.handleHorizontalSwipe),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("tap",this.handleTap),this.setDimensions()},t.prototype.ngAfterViewInit=function(){this.initCarousel(),this.autoplay&&this.carousel.autoplay(),this.cellLength=this.getCellLength(),this.dotsArr=Array(this.cellLength).fill(1),this.ref.detectChanges(),this.carousel.lineUpCells(),this.detectDomChanges()},t.prototype.ngOnChanges=function(t){(t.width||t.height||t.images)&&(this.setDimensions(),this.initCarousel(),this.carousel.lineUpCells(),this.ref.detectChanges())},t.prototype.ngOnDestroy=function(){this.touches.destroy()},t.prototype.initCarousel=function(){var t={id:this.id,cellsElement:this.elementRef.nativeElement.querySelector(".carousel-cells"),hostElement:this.elementRef.nativeElement,images:this.images,cellWidth:this.getCellWidth(),loop:this.loop,autoplayInterval:this.autoplayInterval,overflowCellsLimit:this.overflowCellsLimit,visibleWidth:this.width,margin:this.margin,minSwipeDistance:this.minSwipeDistance,transitionDuration:this.transitionDuration,transitionTimingFunction:this.transitionTimingFunction,videoProperties:this.videoProperties,eventHandler:this.events,freeScroll:this.freeScroll,lightDOM:this.lightDOM};this.utils=new a(t),this.cells=new l(t,this.utils),this.container=new s(t,this.utils,this.cells),this.slide=new h(t,this.utils,this.cells,this.container),this.carousel=new o(t,this.utils,this.cells,this.container,this.slide)},t.prototype.detectDomChanges=function(){var t=this;new MutationObserver((function(e){t.onDomChanges()})).observe(this.elementRef.nativeElement,{attributes:!0,childList:!0,characterData:!0})},t.prototype.onDomChanges=function(){this.cellLength=this.getCellLength(),this.carousel.lineUpCells(),this.ref.detectChanges()},t.prototype.setDimensions=function(){this.hostStyleHeight=this.height+"px",this.hostStyleWidth=this.width+"px"},t.prototype.getImage=function(t){return this.carousel.getImage(t)},t.prototype.handleTransitionendCellContainer=function(t){this.carousel.handleTransitionend()},t.prototype.toggleVideo=function(t){event.preventDefault(),this.videoProperties.noPlay||(t.paused?(t.play(),this.isVideoPlaying=!0):(t.pause(),this.isVideoPlaying=!1),this.ref.detectChanges())},t.prototype.getCellWidth=function(){var t=this.elementRef.nativeElement.clientWidth;return this.cellsToShow?(t-(this.cellsToShow>1?this.margin:0)*(this.cellsToShow-1))/this.cellsToShow:"100%"===this._cellWidth?t:this._cellWidth},t.prototype.next=function(){this.carousel.next(this.cellsToScroll),this.carousel.stopAutoplay()},t.prototype.prev=function(){this.carousel.prev(this.cellsToScroll),this.carousel.stopAutoplay()},t.prototype.isNextArrowDisabled=function(){if(this.carousel)return this.carousel.isNextArrowDisabled()},t.prototype.isPrevArrowDisabled=function(){if(this.carousel)return this.carousel.isPrevArrowDisabled()},t.prototype.getCellLength=function(){return this.images?this.images.length:this.cellsElement.children.length},t}();u.decorators=[{type:e.Component,args:[{selector:"carousel, [carousel]",template:'<div class="carousel-counter" *ngIf="isCounter">{{counter}}</div>\n\n<div class="carousel-container" [class.carousel-moving]="isMoving">\n\t<div class="carousel-cells" #cells (transitionend)="handleTransitionendCellContainer($event)">\n\t\t<ng-content></ng-content>\n\n\t\t<ng-template ngFor let-image [ngForOf]="images" let-i="index">\n\t\t\t<div class="carousel-cell" \n\t\t\t\t[style.width]="getCellWidth()+\'px\'"\n\t\t\t\t[style.border-radius]="borderRadius+\'px\'"\n\t\t\t\t*ngIf="i < cellLimit">\n\t\t\t\t\x3c!-- Image --\x3e\n\t\t\t\t<img \n\t\t\t\t\t*ngIf="getImage(i) && getImage(i)[\'image\']" \n\t\t\t\t\t[src]="getImage(i)[\'image\'][\'path\']"\n\t\t\t\t\t[style.object-fit]="objectFit"\n\t\t\t\t\tdraggable="false" />\n\n\t\t\t</div>\n\t\t</ng-template>\n\t</div>\n\n\t<div class="carousel-dots" *ngIf="dots">\n\t\t<div class="carousel-dot" [class.carousel-dot-active]="i === activeDotIndex" *ngFor="let dot of dotsArr; index as i"></div>\n\t</div>\n</div>\n\n<div class="carousel-arrows" \n\t[class.carousel-arrows-outside]="arrowsOutside" \n\t[class.carousel-dark-arrows]="arrowsTheme === \'dark\'"\n\t*ngIf="isArrows">\n\t\n\t<div class="carousel-arrow carousel-arrow-prev" [class.carousel-arrow-disabled]="isPrevArrowDisabled()" (click)="prev()"></div>\n\t<div class="carousel-arrow carousel-arrow-next" [class.carousel-arrow-disabled]="isNextArrowDisabled()" (click)="next()"></div>\n</div>',styles:[":host{-moz-user-select:none;-webkit-user-select:none;box-sizing:border-box;display:block;height:100%;left:0;position:relative;top:0;transform-origin:top left;user-select:none;width:100%;z-index:10000}:host .carousel-container{cursor:grab;height:100%;overflow:hidden;width:100%}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{background-color:rgba(23,37,68,.3);border-radius:13px;color:#fff;font-size:11px;line-height:normal;padding:5px 7px;position:absolute;right:24px;text-align:right;top:8px;transition:opacity .2s;z-index:30}:host ::ng-deep .carousel-cells{display:block;height:100%;transition:transform .2s;width:100%;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{height:100%;overflow:hidden;position:absolute;width:100%}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{height:100%;object-fit:contain;position:relative;width:100%}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}:host .carousel-arrow{background-color:#fff;background-position:50%;background-repeat:no-repeat;background-size:31px;border-radius:100px;box-shadow:0 0 5px rgba(0,0,0,.15);cursor:pointer;height:40px;margin-top:-20px;position:absolute;top:50%;width:40px;z-index:10}:host .carousel-arrow-prev{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==);left:10px}:host .carousel-arrow-next{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);right:10px}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{bottom:0;left:0;position:absolute;right:0;text-align:center;z-index:10}:host .carousel-dots .carousel-dot{border:2px solid #fff;border-radius:100px;display:inline-block;height:8px;margin:4px;width:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}"]}]}],u.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},u.propDecorators={events:[{type:e.Output}],id:[{type:e.Input}],height:[{type:e.Input}],width:[{type:e.Input}],autoplay:[{type:e.Input}],autoplayInterval:[{type:e.Input}],pauseOnHover:[{type:e.Input}],dots:[{type:e.Input}],borderRadius:[{type:e.Input}],margin:[{type:e.Input}],objectFit:[{type:e.Input}],minSwipeDistance:[{type:e.Input}],transitionDuration:[{type:e.Input}],transitionTimingFunction:[{type:e.Input}],videoProperties:[{type:e.Input}],counterSeparator:[{type:e.Input}],overflowCellsLimit:[{type:e.Input}],listeners:[{type:e.Input}],cellsToShow:[{type:e.Input}],cellsToScroll:[{type:e.Input}],freeScroll:[{type:e.Input}],arrows:[{type:e.Input}],arrowsOutside:[{type:e.Input}],arrowsTheme:[{type:e.Input}],images:[{type:e.Input}],cellWidth:[{type:e.Input,args:["cellWidth"]}],isCounter:[{type:e.Input,args:["counter"]}],loop:[{type:e.Input,args:["loop"]}],lightDOM:[{type:e.Input,args:["lightDOM"]}],hostClassCarousel:[{type:e.HostBinding,args:["class.carousel"]}],hostStyleHeight:[{type:e.HostBinding,args:["style.height"]}],hostStyleWidth:[{type:e.HostBinding,args:["style.width"]}],onWindowResize:[{type:e.HostListener,args:["window:resize",["$event"]]}],onMousemove:[{type:e.HostListener,args:["mousemove",["$event"]]}],onMouseleave:[{type:e.HostListener,args:["mouseleave",["$event"]]}]};var c=function(){};c.decorators=[{type:e.NgModule,args:[{declarations:[u],imports:[i.CommonModule],exports:[u],providers:[],bootstrap:[],entryComponents:[u]}]}],t.CarouselComponent=u,t.IvyCarouselModule=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-responsive-carousel.umd.min.js.map