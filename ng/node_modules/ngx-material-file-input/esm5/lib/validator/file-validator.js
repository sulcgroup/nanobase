export var FileValidator;
(function (FileValidator) {
    /**
     * Function to control content of files
     *
     * @param bytes max number of bytes allowed
     *
     * @returns
     */
    function maxContentSize(bytes) {
        return function (control) {
            var size = control && control.value ? control.value.files.map(function (f) { return f.size; }).reduce(function (acc, i) { return acc + i; }, 0) : 0;
            var condition = bytes >= size;
            return condition
                ? null
                : {
                    maxContentSize: {
                        actualSize: size,
                        maxSize: bytes
                    }
                };
        };
    }
    FileValidator.maxContentSize = maxContentSize;
})(FileValidator || (FileValidator = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS12YWxpZGF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtbWF0ZXJpYWwtZmlsZS1pbnB1dC8iLCJzb3VyY2VzIjpbImxpYi92YWxpZGF0b3IvZmlsZS12YWxpZGF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxLQUFXLGFBQWEsQ0FzQjdCO0FBdEJELFdBQWlCLGFBQWE7SUFDNUI7Ozs7OztPQU1HO0lBQ0gsU0FBZ0IsY0FBYyxDQUFDLEtBQWE7UUFDMUMsT0FBTyxVQUFDLE9BQXdCO1lBQzlCLElBQU0sSUFBSSxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRSxPQUFPLENBQUMsS0FBbUIsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLElBQUksRUFBTixDQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxHQUFHLEVBQUUsQ0FBQyxJQUFLLE9BQUEsR0FBRyxHQUFHLENBQUMsRUFBUCxDQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvSCxJQUFNLFNBQVMsR0FBRyxLQUFLLElBQUksSUFBSSxDQUFDO1lBQ2hDLE9BQU8sU0FBUztnQkFDZCxDQUFDLENBQUMsSUFBSTtnQkFDTixDQUFDLENBQUM7b0JBQ0UsY0FBYyxFQUFFO3dCQUNkLFVBQVUsRUFBRSxJQUFJO3dCQUNoQixPQUFPLEVBQUUsS0FBSztxQkFDZjtpQkFDRixDQUFDO1FBQ1IsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQWJlLDRCQUFjLGlCQWE3QixDQUFBO0FBQ0gsQ0FBQyxFQXRCZ0IsYUFBYSxLQUFiLGFBQWEsUUFzQjdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsaWRhdG9yRm4sIEFic3RyYWN0Q29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEZpbGVJbnB1dCB9IGZyb20gJy4uL21vZGVsL2ZpbGUtaW5wdXQubW9kZWwnO1xuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVWYWxpZGF0b3Ige1xuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY29udHJvbCBjb250ZW50IG9mIGZpbGVzXG4gICAqXG4gICAqIEBwYXJhbSBieXRlcyBtYXggbnVtYmVyIG9mIGJ5dGVzIGFsbG93ZWRcbiAgICpcbiAgICogQHJldHVybnNcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBtYXhDb250ZW50U2l6ZShieXRlczogbnVtYmVyKTogVmFsaWRhdG9yRm4ge1xuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB8IG51bGwgPT4ge1xuICAgICAgY29uc3Qgc2l6ZSA9IGNvbnRyb2wgJiYgY29udHJvbC52YWx1ZSA/IChjb250cm9sLnZhbHVlIGFzIEZpbGVJbnB1dCkuZmlsZXMubWFwKGYgPT4gZi5zaXplKS5yZWR1Y2UoKGFjYywgaSkgPT4gYWNjICsgaSwgMCkgOiAwO1xuICAgICAgY29uc3QgY29uZGl0aW9uID0gYnl0ZXMgPj0gc2l6ZTtcbiAgICAgIHJldHVybiBjb25kaXRpb25cbiAgICAgICAgPyBudWxsXG4gICAgICAgIDoge1xuICAgICAgICAgICAgbWF4Q29udGVudFNpemU6IHtcbiAgICAgICAgICAgICAgYWN0dWFsU2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgbWF4U2l6ZTogYnl0ZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgIH07XG4gIH1cbn1cbiJdfQ==